{% extends "base.html" %}

{% block title %}Admin Settings - DigitalSkeleton{% endblock %}

{% block content %}
<h1>Admin Settings</h1>

<form method="POST">
    <h3>Payment Settings</h3>
    
    <h4 class="mt-3">Paystack</h4>
    <div class="mb-3">
        <label for="paystack_public_key" class="form-label">Public Key</label>
        <input type="text" class="form-control" id="paystack_public_key" name="paystack_public_key" 
               value="{{ settings.get('paystack_public_key', '') }}">
    </div>
    
    <div class="mb-3">
        <label for="paystack_secret_key" class="form-label">Secret Key</label>
        <input type="password" class="form-control" id="paystack_secret_key" name="paystack_secret_key" 
               value="{{ settings.get('paystack_secret_key', '') }}">
    </div>
    
    <h4 class="mt-4">Flutterwave</h4>
    <div class="mb-3">
        <label for="flutterwave_public_key" class="form-label">Public Key</label>
        <input type="text" class="form-control" id="flutterwave_public_key" name="flutterwave_public_key" 
               value="{{ settings.get('flutterwave_public_key', '') }}">
    </div>
    
    <div class="mb-3">
        <label for="flutterwave_secret_key" class="form-label">Secret Key</label>
        <input type="password" class="form-control" id="flutterwave_secret_key" name="flutterwave_secret_key" 
               value="{{ settings.get('flutterwave_secret_key', '') }}">
    </div>
    
    <h4 class="mt-4">PayPal</h4>
    <div class="mb-3">
        <label for="paypal_client_id" class="form-label">Client ID</label>
        <input type="text" class="form-control" id="paypal_client_id" name="paypal_client_id" 
               value="{{ settings.get('paypal_client_id', '') }}">
        <small class="form-text text-muted">Get your PayPal Client ID from the PayPal Developer Dashboard</small>
    </div>
    
    <div class="mb-3">
        <label for="paypal_client_secret" class="form-label">Client Secret</label>
        <input type="password" class="form-control" id="paypal_client_secret" name="paypal_client_secret" 
               value="{{ settings.get('paypal_client_secret', '') }}">
        <small class="form-text text-muted">Get your PayPal Client Secret from the PayPal Developer Dashboard</small>
    </div>
    
    <div class="mb-3">
        <label for="paypal_mode" class="form-label">PayPal Mode</label>
        <select class="form-control" id="paypal_mode" name="paypal_mode">
            <option value="sandbox" {% if settings.get('paypal_mode', 'sandbox') == 'sandbox' %}selected{% endif %}>Sandbox (Testing)</option>
            <option value="live" {% if settings.get('paypal_mode', 'sandbox') == 'live' %}selected{% endif %}>Live (Production)</option>
        </select>
        <small class="form-text text-muted">Use Sandbox for testing, Live for production payments</small>
    </div>
    
    <h4 class="mt-4">Currency Exchange Rate</h4>
    <div class="mb-3">
        <label for="exchange_rate" class="form-label">NGN to USD Rate</label>
        <input type="number" step="0.01" class="form-control" id="exchange_rate" name="exchange_rate" 
               value="{{ settings.get('exchange_rate', '1500') }}">
    </div>
    
    <hr class="my-5">
    
    <h3>Policy Templates</h3>
    <p class="text-muted">Edit the templates for your Privacy Policy, Terms & Conditions, and Refund Policy. HTML tags are supported.</p>
    
    <div class="mb-4">
        <label for="privacy_policy" class="form-label">
            <strong>Privacy Policy</strong>
        </label>
        <textarea class="form-control" id="privacy_policy" name="privacy_policy" rows="10">{{ policies.get('privacy', '') }}</textarea>
        <small class="form-text text-muted">Define how you collect, use, and protect user data.</small>
    </div>
    
    <div class="mb-4">
        <label for="terms_policy" class="form-label">
            <strong>Terms & Conditions</strong>
        </label>
        <textarea class="form-control" id="terms_policy" name="terms_policy" rows="10">{{ policies.get('terms', '') }}</textarea>
        <small class="form-text text-muted">Define the rules and guidelines for using your platform.</small>
    </div>
    
    <div class="mb-4">
        <label for="refund_policy" class="form-label">
            <strong>Refund Policy</strong>
        </label>
        <textarea class="form-control" id="refund_policy" name="refund_policy" rows="10">{{ policies.get('refund', '') }}</textarea>
        <small class="form-text text-muted">Define your refund eligibility and process.</small>
    </div>
    
    <button type="submit" class="btn btn-primary btn-lg">Save All Settings</button>
</form>
{% endblock %}
